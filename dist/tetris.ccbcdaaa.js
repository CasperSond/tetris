parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"aiCm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){for(var e=document.getElementById("field"),t=0;t<20;t++){var d=document.createElement("div");e.appendChild(d);for(var r=0;r<10;r++){var a=document.createElement("div");d.appendChild(a)}}};exports.default=e;
},{}],"k4Dd":[function(require,module,exports) {
"use strict";function e(e,r){return Math.floor(Math.random()*(r-e+1))+e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.random=e;
},{}],"xKBk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var l=[[[null,null,null,null],[!0,!0,!0,!0],[null,null,null,null],[null,null,null,null]],[[!0,!1,!1],[!0,!0,!0],[!1,!1,!1]],[[!1,!1,!0],[!0,!0,!0],[!1,!1,!1]],[[!1,!0,!0,!1],[!1,!0,!0,!1],[!1,!1,!1,!1],[!1,!1,!1,!1]],[[!1,!0,!0],[!0,!0,!1],[!1,!1,!1]],[[!0,!0,!1],[!1,!0,!0],[!1,!1,!1]],[[!1,!0,!1],[!0,!0,!0],[!1,!1,!1]]];exports.default=l;
},{}],"Rcok":[function(require,module,exports) {
"use strict";function r(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===o)return r;o%=4;var u=r.length,s=Math.floor(u/2),a=[];if(u%2==1){var h=r[s][s];a.push([h])}for(var f=s-1;f>=0;f--){var i=e(r,f);n(t(i,(i.length/4+1-1)*o),a)}return a}function e(r,e){for(var t=r.length-2*e,n=e+t-1,o=[],u=e;u<t+e;u++)o.push(r[e][u]);for(var s=e+1;s<=n;s++)o.push(r[s][n]);for(var a=n-1;a>e;a--)o.push(r[n][a]);for(var h=n;h>e;h--)o.push(r[h][e]);return o}function t(r,e){var t=r.slice(),n=e>=0?t.length-e:-1*e,o=t.splice(0,n);return t.concat(o)}function n(r,e){var t=r.length,n=t/4+1,o=Math.max(0,n-2),u=n+o;e.unshift(r.slice(0,n)),e.push(r.slice(u,u+n).reverse());for(var s=0;s<o;s++)e[s+1].push(r[n+s]),e[s+1].unshift(r[t-(s+1)])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.rotatedTetro=r;
},{}],"A5jT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCurrentPositionOfTetromino=o;var e=r(require("./tetrominoes")),t=require("./rotate");function r(e){return e&&e.__esModule?e:{default:e}}function o(r){var o=e.default[r.type];return(0,t.rotatedTetro)(o,r.rotationState).reduce(function(e,t,o){var u=t.reduce(function(e,t,u){if(!0===t){var n=[r.topLeftRef[0]+u,r.topLeftRef[1]+o];e.push(n)}return e},[]);return e.concat(u)},[])}
},{"./tetrominoes":"xKBk","./rotate":"Rcok"}],"kFHS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.startGame=b,exports.rotateTetromino=y,exports.dropNewTetromino=g,exports.moveTetromino=d,exports.pauseGame=w,exports.liveTetrominoState=exports.mainState=void 0;var e=require("./helpers"),t=require("./getCurrentPositionOfTetromino"),r=require("./rotate"),n=o(require("./tetrominoes"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return c(e)||a(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(c){o=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}}function c(e){if(Array.isArray(e))return e}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s={running:!1,level:3,nextTick:0},v=[];exports.mainState=v,function(){for(var e=0;e<20;e++)v.push(new Array(10).fill(null))}();var m={topLeftRef:[0,0],rotationState:0,position:[],type:0};function b(){s.running=!0,g(),E()}function y(){m.topLeftRef;var e=m.position.slice(),r=(0,t.getCurrentPositionOfTetromino)(l({},m,{},{rotationState:(m.rotationState+1)%4})),n=O(r);0!==n&&(r=r.map(function(e){var t=i(e,2),r=t[0],o=t[1];return[r+n,o]})),P(r)||(m.rotationState=++m.rotationState,m.position=r,s.nextTick+=200,j(r,e))}function g(){s.nextTick=performance.now()+1e3/s.level,s.running=!0,m.type=(0,e.random)(0,6),m.topLeftRef=[3,0],m.rotationState=0,m.position=(0,t.getCurrentPositionOfTetromino)(m),j(m.position)}function d(e){var t=i(e,2),r=t[0],n=t[1],o=!0,u=!1,a=!1,c=m.position.map(function(e){var t=i(e,2),c=t[0],f=t[1],l=[c+r,f+n];return l[0]<0||l[0]>9?o=!1:l[1]<20&&null!==v[l[1]][l[0]]&&(0!==n?a=!0:o=!1),l[1]>19&&(o=!1,u=!0),l});if(u||a){T(m);var f=k();console.log(f),f.length>0&&f.forEach(function(e){v.splice(e,1),v.unshift(new Array(10).fill(null)),S(e)}),g()}if(o&&!a){var l=m.position.slice();m.position=c;var p=i(m.topLeftRef,2),b=p[0],y=p[1];m.topLeftRef=[b+r,y+n],j(c,l),0!==r&&(s.nextTick+=50)}}exports.liveTetrominoState=m;var h=document.getElementById("field");function O(e){var t=e.reduce(function(e,t){var r=i(t,2),n=r[0];r[1];return Math.max(n,e)},0);if(t>9)return 9-t;var r=e.reduce(function(e,t){var r=i(t,2),n=r[0];r[1];return Math.min(n,e)},10);return r<0?-1*r:0}function x(e,t){var r=i(e,2),n=r[0],o=r[1],u=h.children.item(o).children.item(n);if(-1===t)u.style.background="black";else{u.style.background=["rgb(97,197,235)","rgb(91, 102, 168)","rgb(225, 127, 58)","rgb(242, 211, 73)","rgb(101, 179, 82)","rgb(221, 58, 53)","rgb(161, 84, 153)"][m.type]}}function j(e,t){t&&t.forEach(function(e){x(e,-1)}),e.forEach(function(e){x(e,m.type)})}function w(){s.running=!s.running,s.running&&E()}function S(e){h.children.item(e).remove();for(var t=document.createElement("div"),r=0;r<10;r++){var n=document.createElement("div");t.appendChild(n)}h.prepend(t)}function T(e){var t=e.position,r=e.type;t.forEach(function(e){var t=i(e,2),n=t[0],o=t[1];v[o][n]=r})}function P(e){return e.every(function(e){var t=i(e,2),r=t[0],n=t[1];return v[n][r]})}function k(){return v.reduce(function(e,t,r){return t.every(function(e){return null!==e})&&e.push(r),e},[])}function E(){performance.now()>=s.nextTick&&(d([0,1]),s.nextTick=performance.now()+1e3/s.level),s.running&&requestAnimationFrame(E)}
},{"./helpers":"k4Dd","./getCurrentPositionOfTetromino":"A5jT","./rotate":"Rcok","./tetrominoes":"xKBk"}],"MEHg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initEventHandlers=t;var e=require("./upDateScene");function t(){document.addEventListener("keydown",function(t){if([37,39].indexOf(t.which)>-1){var n=37===t.which?[-1,0]:[1,0];(0,e.moveTetromino)(n)}else 38===t.which?(0,e.rotateTetromino)():40===t.which&&(0,e.moveTetromino)([0,1])});var t=document.getElementById("startGame"),n=document.getElementById("pauseGame");t.addEventListener("click",e.startGame),n.addEventListener("click",e.pauseGame)}
},{"./upDateScene":"kFHS"}],"aRYt":[function(require,module,exports) {
"use strict";var e=t(require("./createPlayingField")),r=require("./eventHandlers");function t(e){return e&&e.__esModule?e:{default:e}}(0,e.default)(),(0,r.initEventHandlers)();
},{"./createPlayingField":"aiCm","./eventHandlers":"MEHg"}],"Nq72":[function(require,module,exports) {

},{}],"Focm":[function(require,module,exports) {
"use strict";var e=r(require("./src/js/main"));function r(e){return e&&e.__esModule?e:{default:e}}require("./src/css/index.css");
},{"./src/js/main":"aRYt","./src/css/index.css":"Nq72"}]},{},["Focm"], null)
//# sourceMappingURL=/tetris.ccbcdaaa.js.map